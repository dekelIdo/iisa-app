<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>IISA Dashboard</h1>
    <button mat-raised-button color="warn" (click)="logout()">
      <mat-icon>logout</mat-icon>
      Logout
    </button>
  </div>

  <app-charts [candidates]="(candidates$ | async) || []"></app-charts>

  <app-map-preview 
    [candidates]="(candidates$ | async) || []"
    (openMap)="onOpenMap()">
  </app-map-preview>

  <div class="candidates-section">
    <app-filters 
      [filters]="filters"
      [cities]="(cities$ | async) || []"
      (filtersChange)="onFiltersChange($event)"
      (clearSearch)="onClearSearch()"
      (clearCity)="onClearCity()"
      (clearAgeRange)="onClearAgeRange()"
      (resetAllFilters)="onResetAllFilters()">
    </app-filters>
    
    <app-candidates-table 
      [candidates]="(candidates$ | async) || []"
      [filteredCandidates]="(filteredCandidates$ | async) || []"
      (viewCandidate)="onViewCandidate($event)">
    </app-candidates-table>
  </div>
</div> 